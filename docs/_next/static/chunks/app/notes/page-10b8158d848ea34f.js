(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[151],{1177:function(e,s,r){Promise.resolve().then(r.t.bind(r,4697,23)),Promise.resolve().then(r.t.bind(r,2386,23)),Promise.resolve().then(r.bind(r,3543)),Promise.resolve().then(r.bind(r,9164))},9164:function(e,s,r){"use strict";r.d(s,{default:function(){return x}});var i=r(6799),t=r(4311),l=r(9311),A=r(3244),a=r(9709),n=r(2976),o=r(5505),c=r(580);async function d(e,s,r,i){let t=new c.i({Key:r,Bucket:s}),l=(await e.send(t)).Body;if(void 0===l)throw Error("No response from AWS S3 Service");let A=l.getReader();return new ReadableStream({start(e){!function s(){A.read().then(r=>{let{done:t,value:l}=r;if(t){e.close();return}i(e=>({currSize:e.currSize+l.length,fullSize:e.fullSize})),e.enqueue(l),s()}).catch(e=>{throw e})}()}})}async function u(e,s,r,i){let t;if(void 0===r.Key)return;if(i(e=>({currSize:e.currSize,fullSize:e.fullSize+(r.Size?r.Size:0)})),t=await d(e,s,r.Key,i).then(e=>new Response(e).arrayBuffer()).then(e=>new Uint8Array(e)).catch(e=>{throw Error("Failed to download file!")}),i(e=>({currSize:e.currSize-(r.Size?r.Size:0),fullSize:e.fullSize-(r.Size?r.Size:0)})),void 0===t)throw Error("Unable to load file!");let l=r.Key.split("/").pop(),A=new Blob([t]),a=document.createElement("a");a.href=window.URL.createObjectURL(A),a.download=l||"download_file",a.click()}let f=e=>{let{fileType:s}=e;return"pdf"===s?(0,i.jsx)(o.lu5,{className:"block",size:24,color:"red"}):(0,i.jsx)(o.oNK,{className:"block",size:24})},h=e=>{let{size:s}=e,r=0;for(;s>1024;)s/=1024,r+=1;return(0,i.jsxs)("span",{children:[s.toFixed(1)," ",["B","KB","MB","GB","TB"][r]]})},p=e=>{let{name:s}=e,r=s.split("/"),t=r.pop();return r.push(""),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-light text-slate-500",children:r.join("/")}),(0,i.jsx)("span",{children:t})]})};var x=e=>{let{bucketName:s,region:r,identityPoolID:o}=e,[c,d]=n.useState([]),[x,g]=n.useState([]),[m,w]=n.useState({currSize:0,fullSize:0}),[S,z]=n.useState(""),y=n.useMemo(()=>new l.g({region:r,credentials:(0,a.s)({client:new t.Q({region:r}),identityPoolId:o})}),[r,o]);return n.useEffect(()=>{(async()=>{try{let e=await y.send(new A.K({Bucket:s}));if(e.Contents){let s=e.Contents.map(e=>{var s;return{Key:e.Key,LastModified:e.LastModified,Size:e.Size,ETag:e.ETag,StorageClass:e.StorageClass,FileType:(null===(s=e.Key)||void 0===s?void 0:s.split(".").pop())||"file"}});d(s)}}catch(e){console.error("Error fetching files: ",e)}})()},[y,s]),n.useEffect(()=>{""===S?g(c):g(c.filter(e=>{var s;return null===(s=e.Key)||void 0===s?void 0:s.toLowerCase().includes(S.toLowerCase())}))},[c,S]),(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("div",{className:"flex justify-between items-center flex-nowrap",children:(0,i.jsx)("div",{className:"flex-grow min-w-[200px] py-4",children:(0,i.jsx)("input",{className:"w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-400 px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow",placeholder:"Search Title ...",onChange:e=>{z(e.target.value)}})})}),(0,i.jsxs)("ul",{className:"grid grid-cols-4 overflow-auto mb-4",style:{gridTemplateColumns:"1fr 12fr 4fr 4fr"},children:[(0,i.jsxs)("li",{className:"col-span-4 grid grid-cols-subgrid py-2 px-4 gap-2 font-semibold",children:[(0,i.jsx)("div",{}),(0,i.jsx)("span",{children:"File Name"}),(0,i.jsx)("span",{children:"Size"}),(0,i.jsx)("span",{className:"w-max",children:"Date"})]}),x.map((e,r)=>{var t;return(0,i.jsxs)("li",{className:"col-span-4 grid grid-cols-subgrid py-2 px-4 gap-2 hover:bg-gray-100 hover:cursor-pointer",onClick:()=>u(y,s,e,w),children:[(0,i.jsx)(f,{fileType:e.FileType}),(0,i.jsx)(p,{name:e.Key?e.Key:""}),(0,i.jsx)(h,{size:e.Size?e.Size:0}),(0,i.jsx)("p",{children:null===(t=e.LastModified)||void 0===t?void 0:t.toLocaleDateString()})]},r)})]}),(0,i.jsx)("div",{className:"bottom-0 sticky w-full h-12 max-h-12 bg-white z-10 py-2 border-t-2 border-slate-300",children:0===m.fullSize?(0,i.jsxs)("span",{className:"text-slate-400",children:["No download task, ",(0,i.jsx)("span",{className:"text-primary-600 italic font-semibold",children:"Click on files to download"})]}):(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsxs)("span",{className:"text-primary-600",children:["Downloading: ",(0,i.jsx)(h,{size:m.currSize})," / ",(0,i.jsx)(h,{size:m.fullSize})]}),(0,i.jsx)("progress",{className:"h-2 rounded bg-gray-200",value:m.currSize,max:m.fullSize})]})})]})}},3543:function(e,s,r){"use strict";r.r(s),s.default={src:"/_next/static/media/Yutian2025_Squared.3fe0d7ca.jpg",height:3024,width:3024,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAJhN/wD/xAAdEAACAgEFAAAAAAAAAAAAAAABBAIhAAMFEiMy/9oACAEBAAE/ANtaV02DCbHZyqJPmrGf/8QAFhEAAwAAAAAAAAAAAAAAAAAAABEx/9oACAECAQE/AIz/xAAZEQADAAMAAAAAAAAAAAAAAAABAhEAIUH/2gAIAQMBAT8AYB5yCaz/2Q==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[484,129,386,697,898,563,198,416,744],function(){return e(e.s=1177)}),_N_E=e.O()}]);