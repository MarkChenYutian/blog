<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>USACO 2016 Feb Gold Analysis | Yutian’s Blog</title>
<meta name="generator" content="Jekyll v3.9.4" />
<meta property="og:title" content="USACO 2016 Feb Gold Analysis" />
<meta name="author" content="Yutian Chen" />
<meta property="og:locale" content="en" />
<meta name="description" content="Problem 1 Circular Barn Link to Question Question Summary The farmer has a circular barn with room numbered from 1 to $n, 3\leq n\leq 1\times 10^5$ . Each room is connected to the rooms that is adjacent to it, and there has one door in each room opened to outside space. Farmer wants each single cow to stay in one single room. Currently, the cows are staying outside the barn randomly, which means that some door may have multiple cows outside it, or have no cows outside it. The energy cost for each cow is $\text{dist}^2$. The question ask for the minimum energy cost to make each cow stay in each room singly." />
<meta property="og:description" content="Problem 1 Circular Barn Link to Question Question Summary The farmer has a circular barn with room numbered from 1 to $n, 3\leq n\leq 1\times 10^5$ . Each room is connected to the rooms that is adjacent to it, and there has one door in each room opened to outside space. Farmer wants each single cow to stay in one single room. Currently, the cows are staying outside the barn randomly, which means that some door may have multiple cows outside it, or have no cows outside it. The energy cost for each cow is $\text{dist}^2$. The question ask for the minimum energy cost to make each cow stay in each room singly." />
<meta property="og:site_name" content="Yutian’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-10-08T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="USACO 2016 Feb Gold Analysis" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Yutian Chen"},"dateModified":"2020-10-08T00:00:00+00:00","datePublished":"2020-10-08T00:00:00+00:00","description":"Problem 1 Circular Barn Link to Question Question Summary The farmer has a circular barn with room numbered from 1 to $n, 3\\leq n\\leq 1\\times 10^5$ . Each room is connected to the rooms that is adjacent to it, and there has one door in each room opened to outside space. Farmer wants each single cow to stay in one single room. Currently, the cows are staying outside the barn randomly, which means that some door may have multiple cows outside it, or have no cows outside it. The energy cost for each cow is $\\text{dist}^2$. The question ask for the minimum energy cost to make each cow stay in each room singly.","headline":"USACO 2016 Feb Gold Analysis","mainEntityOfPage":{"@type":"WebPage","@id":"/algorithm/2020/10/08/USACO-2016-Feb-Gold-Analysis.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/logo.png"},"name":"Yutian Chen"},"url":"/algorithm/2020/10/08/USACO-2016-Feb-Gold-Analysis.html"}</script>
<!-- End Jekyll SEO tag -->


<link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Yutian's Blog" />





<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open%20Sans|Roboto|Roboto%20Slab|Inconsolata|Dancing%20Script|Noto%20Sans%20SC|Noto%20Sans%20TC|Noto%20Serif%20SC|Noto%20Serif%20TC|Ma%20Shan%20Zheng">

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/skin.css">

<!-- Begin selecting skin -->

  <script>
    const hour = (new Date()).getHours();
    let filename = "";
    if (hour >= 5 && hour < 20) {
      filename = "/assets/css/skin-daylight.css";
    } else {
      filename = "/assets/css/skin-daylight.css";
    }
    const elem = document.createElement("link");
    elem.setAttribute("rel", "stylesheet");
    elem.setAttribute("type", "text/css");
    elem.setAttribute("href", filename);
    document.getElementsByTagName("head")[0].appendChild(elem);
  </script>

<!-- End selecting skin -->

<!-- <script async src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">



<!-- MathJax used to render math equations -->
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
<script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<!-- MS Clarity -->
<script type="text/javascript">
  (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
  })(window, document, "clarity", "script", "eo4n22qg7z");
</script>


  </head>

  <body>
    <div class="site-container">
      <header class="site-header">
        <div class="wrapper">
  <script>
    function clickSidebarButton() {
      const elem = document.getElementById("site-sidebar")
      if (elem.style.display == "none" || elem.style.display == "") {
        elem.style.display = "block";
      } else {
        elem.style.display = "none";
      }
    }
  </script>
  <a class="site-sidebar-button" onclick="clickSidebarButton()"><i class="fa fa-user-circle"></i>
  </a>

  <a class="site-title" rel="author" href="/">Yutian&#39;s Blog</a>

  
    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
      <label for="nav-trigger" title="nav-trigger">
        <span class="menu-icon">
          <svg viewBox="0 0 18 15" width="18px" height="15px">
            <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
          </svg>
        </span>
      </label>

      <ul class="trigger">
              <li><a class="" href="/about/">About</a></li>
            
              <li><a class="" href="/categories/">Posts</a></li>
            
              <li><a class="" href="/files/">Files</a></li>
            
              <li class="dropdown" href="#">
                <a href="javascript:void(0)" class="dropbtn">More</a>
                <div class="dropdown-content">
                    <a class="" href="/tags/">Tags</a>
                    <a class="" href="/years/">Years</a>
                </div>
              </li>
            </ul>
    </nav>
  
</div>

      </header>
      
      <div class="site-body wrapper">
        <aside class="site-sidebar" id="site-sidebar">
          
            <div class="sidebar-section"><img src="/avatar.jpg" class="author-avatar u-photo align-center" alt="Yutian Chen">
  </div>

<div class="sidebar-section">
  <ul class="contact-list">
    <li>
        <i class="sidebar-icon fa fa-at"></i>
        <span class="contact-info p-name">Yutian Chen</span>
      </li>
    <li>
        <i class="sidebar-icon fa fa-envelope-o"></i>
        <a class="contact-info u-email" href="mailto:yutianch@andrew.cmu.edu">yutianch@andrew.cmu.edu</a>
      </li>
    <li>
        <i class="sidebar-icon fa fa-location-arrow"></i>
        <a class="contact-info u-location" href="https://www.google.com/maps/search/Pittsburgh, PA">Pittsburgh, PA</a>
      </li>
  </ul>
</div>

<div class="sidebar-section feed-subscribe">
  <a href="feed.xml">
    <i class="sidebar-icon fa fa-rss"></i><span>Subscribe</span>
  </a>
</div>

<div class="sidebar-section">
    <ul class="social-icons">
      <li>
          <a class="social-icon" href="https://www.linkedin.com/in/yutian-chen-469602223/"><i class="fa fa-linkedin-square fa-2x" title="LinkedIn"></i></a>
        </li><li>
          <a class="social-icon" href="https://github.com/MarkChenYutian"><i class="fa fa-github-square fa-2x" title="GitHub"></i></a>
        </li>
    </ul>
  </div>

          
        </aside>
        <main class="site-main" id="site-main" aria-label="Content" tabindex="1">
          <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">

    <h1 class="post-title p-name" itemprop="name headline">USACO 2016 Feb Gold Analysis</h1>
    <p class="post-meta"><time class="dt-published" datetime="2020-10-08T00:00:00+00:00" itemprop="datePublished">
        Oct 8, 2020
      </time></p>

  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="problem-1-circular-barn">Problem 1 Circular Barn</h2>

<p><a href="http://usaco.org/index.php?page=viewproblem2&amp;cpid=621">Link to Question</a></p>

<h3 id="question-summary">Question Summary</h3>

<p>The farmer has a circular barn with room numbered from 1 to $n, 3\leq n\leq 1\times 10^5$ . Each room is connected to the rooms that is adjacent to it, and there has one door in each room opened to outside space. Farmer wants each single cow to stay in one single room. Currently, the cows are staying outside the barn randomly, which means that some door may have multiple cows outside it, or have no cows outside it. The energy cost for each cow is $\text{dist}^2$. The question ask for the minimum energy cost to make each cow stay in each room singly.</p>

<!--more-->

<h3 id="proposed-solution">Proposed Solution</h3>

<p>Observing the operation, we can notice this truth: <strong>If cow A’s destination is after the starting point of cow B, the most energy-saving solution will need to exchange the destination of cow A and B.</strong></p>

<p>Based on this solution, we can maintain a <code class="language-plaintext highlighter-rouge">queue</code> to store the starting points of cows. When we meet one empty room, we pop out a cow from the queue and add up the distance square of that cow’s moving distance.</p>

<p>By repeating this process all around the circular barn, we can get the minimum energy cost.</p>

<p>When we can always drop down one cow per empty room, the result will be optimized. (Or, one cow will have to move for more than 1 round aside the barn)</p>

<p>The cost of maintaining a queue, using linked list, is $O(1)$ for pop and push operation. Since there will have $n$ cows, the total time complexity will be $O(n)$ for a single starting point.</p>

<p>There are totally $n$ possible starting points, so the total complexity will be $O(n^2)$. This will lead to TLE for the result since there will have approx.  $1\times 10^{10}$ computational steps at most. Therefore, we need to optimize our solution</p>

<p>The main problem in the solution above is that we will have to go through all possible starting point, and this will consume a lot of time.</p>

<p>To minimize the time of try, we can first start at a random position, and note the room number that has maximum number of cows in the queue. Then, we can start directly at that position. This can lower the number of try from $n$ to 2, and the total time complexity will be $O(n)$.</p>

<h3 id="time-complexity-analysis">Time Complexity Analysis</h3>

<p>Since $3\leq n\leq 1\times 10^5$, with the time complexity of $O(n)$, we can have at most $1\times 10^6$ computational step and we can AC this problem with Python 3 in the time limit.</p>

<hr />

<h2 id="problem-2-circular-barn-revisited">Problem 2 Circular Barn Revisited</h2>

<p><a href="http://usaco.org/index.php?page=viewproblem2&amp;cpid=622">Link to Question</a></p>

<h3 id="problem-summary">Problem Summary</h3>

<p>The farmer wants to have exactly $r_i$ cows in room $i$, where $0\leq r_i \leq 1\times 10^6$. Although there are $n$ rooms in the circular barn, farmer John only want to open $k$ doors to let cows enter the barn ($1\leq k \leq 7$). All the cows can  ONLY walk clockwise inside the barn. He wants to know the minimum total distance for cows to move after entering the barn.</p>

<h3 id="proposed-solution-1">Proposed Solution</h3>

<p>One method to analyze a problem that has a “circular” structure in it is to discuss the problem in a linear structure, which is obviously easier. Consider there is a line of rooms in the barn, and the cows can only move from left to right. We will soon get some obvious facts:</p>

<ol>
  <li>
    <p>The first door MUST be open on the left-most room, or no cow can arrive at the left-most room.</p>

    <p><img src="https://markchenyutian.github.io/Markchen_Blog/Asset/USACO_2016_Feb_2_2.jpg" alt="image1" /></p>
  </li>
  <li>
    <p>Suppose a cow enters the barn in door $k-1$, it must arrive its destination before $k$th door, or it can just enter the barn from $k$th door and have less walking distance inside the barn.</p>

    <p><img src="https://markchenyutian.github.io/Markchen_Blog/Asset/USACO_2016_Feb_2_1.jpg" alt="image2" /></p>
  </li>
</ol>

<p>Using these two facts, we can use the dynamic programming to solve the linear barn problem.</p>

<p>Let $T$ represent a table of size $n\times (k-1)$.  The value of $T[n’][k’]$ represent the minimum total distance the cow has walked when there’s $k’+1$ (since the first door must be open) doors open in the first $n’$ doors. The calculation of table can be represent in this pseudocode:
\(\begin{aligned}
&amp;\text{each element in }T = \infty\\
&amp;T[0][0] \leftarrow (0, 1)\\
&amp;\text{for }T[i][j] \text{ in } T\\
&amp;\quad \quad\text{if }T[i+1][j+1][0] &gt; T[i][j][0]\\
&amp;\quad \quad \quad \quad T[i + 1][j + 1] \leftarrow (T[i][j][0], 0)\\
&amp;\quad \quad \text{if }T[i][j+1][0] &gt; (T[i][j][0] + T[i][j][1] \times r_{j+1})\\
&amp;\quad \quad \quad \quad T[i][j + 1] \leftarrow (T[i][j][0] + T[i][j][1] \times r_{j+1}, T[i][j][1] + 1)\\
&amp;return\; T[k-1][n]
\end{aligned}\)
<img src="https://markchenyutian.github.io/Markchen_Blog/Asset/USACO_2016_Feb_2_3.jpg" alt="image3" /></p>

<p>Each element in table $T$ is made up of a tuple, where the first element represent the minimum total distance the cow has walked when there’s $k’$ doors open in the first $n’$ doors and the second element represent the distance of last opened door to  $n’$th door.</p>

<p>By calculating through this table, we can get the minimum total distance walked when the bar has a start on one specific position with time complexity of $O(nk)$.</p>

<p>Since the whole problem is based on a <strong>circular barn</strong>, we should try all $n$ possible starting points. Therefore, the total time complexity will be $O(n^2k)$.</p>

<h3 id="time-complexity-analysis-1">Time Complexity Analysis</h3>

<p>Since $3\leq n\leq 100$ and $1\leq k \leq 7$, we can know that the whole algorithm will have at most $1\times 10^6$ steps to finish the calculate. Therefore, we can use Python 3 to AC this problem.</p>

<hr />

<h2 id="problem-3-fenced-in">Problem 3 Fenced In</h2>

<h3 id="problem-summary-1">Problem Summary</h3>

<p>There’s a rectangle with corner $(0,0)$ and $(A, B)$. Farmer John built $n$ vertical fences at $x = a_1, a_2, \cdots a_n$ and $m$ horizontal fences at $y = b_1, b_2, \cdots, b_m$. By doing so, the whole rectangle is divided into $(n + 1)(m + 1)$ grids. Now, the farmer want to connect each grid together by removing some of the fences in the rectangle. What is the minimum distance of fence the farmer has to remove to connect EVERY cell in rectangle?</p>

<h3 id="proposed-solution-2">Proposed Solution</h3>

<p>We can see each cell in the rectangle as a node, while the fences between each cell as a bi-directional weighted edge, where the weight equals to the length of fence between two cells. By doing so, we can see the whole field as a graph.</p>

<p><img src="https://markchenyutian.github.io/Markchen_Blog/Asset/USACO_2016_Feb_3_1.jpg" alt="image4" /></p>

<p>After we see the whole grid as a graph, we can find that the problem simply want us to provide the sum of weights of the <strong>Minimum Span Tree</strong> for the whole graph. Therefore, we can use the greedy algorithm to solve this problem. The pseudocode is shown below</p>

\[\begin{aligned}
&amp; // \text{Fringe is a Priority Queue that will always output the smallest element in it}\\
&amp;L =0\\
&amp;\text{Connected} = \phi \\
&amp;\text{Fringe} = \{ V_0.allEdges \} \\
&amp;\text{While Fringe is not Empty}\\
&amp;\quad \quad \text{newEdge } \leftarrow \text{Fringe.pop()}\\
&amp;\quad \quad \text{While newEdge.destination } \in \text{Connected}\\
&amp;\quad \quad \quad \quad \text{newEdge }\leftarrow \text{Fringe.pop()}\\
&amp;\quad \quad \text{Fringe }=\text{Fringe } \cup \text{ newEdge.destination.allEdges}\\
&amp;\quad \quad \text{Connected }=\text{Connected }\cup \text{ newEdge.destination}\\
&amp;\quad \quad L \leftarrow L+\text{newEdge.wieght}\\
&amp;return\quad L
\end{aligned}\]

<h3 id="time-complexity-analysis-2">Time Complexity Analysis</h3>

<p>The time complexity of min-span tree algorithm is $O(E)$, which, in this case, equals to $O(mn)$. Since $0\leq m\leq 2000$ and $0\leq n\leq 2000$, the expected computational steps it will take will be at most $1\times 10^7$. Therefore, it is highly possible that we can use Python 3 to AC this problem.</p>

  </div>

  <footer class="post-footer">
    
      <div class="post-meta">
        <i class="fa fa-folder-o"></i>
        <ul class="post-taxonomies post-categories">
          
          
            <li class="post-category">
              
              <a href="/categories/#algorithm">Algorithm</a>
            </li>
          
        </ul>
      </div>
    

    
      <div class="post-meta">
        <i class="fa fa-tags"></i>
        <ul class="post-taxonomies post-tags">
          
          
            <li class="post-tag">
              
              <a href="/tags/#algorithm">algorithm</a>
            </li>
          
        </ul>
      </div>
    

    <nav class="post-pagination" role="navigation">
      
        <a class="post-previous" href="/algorithm/2020/10/04/USACO-2016-Jan-Gold-Analysis.html">
          <h4 class="post-pagination-label">Prev</h4>
          <span class="post-pagination-title">
            <i class="fa fa-arrow-left"></i> USACO 2016 Jan Gold Analysis

          </span>
        </a>
      

      
        <a class="post-next" href="/machine%20learning/2020/10/09/Constraint-Satisfaction-Problem.html">
          <h4 class="post-pagination-label">Next</h4>
          <span class="post-pagination-title">
            Arc-consistency in Constraint Satisfaction Problem
 <i class="fa fa-arrow-right"></i>
          </span>
        </a>
      
    </nav>
  </footer>

  
  
</article>

          <footer class="site-footer">
            <div class="footer-col-wrapper">

  <div class="footer-col">
    <div class="copyright">
      
      
      
      
      <p>Copyright © 2019&nbsp;-&nbsp;2024 Yutian Chen</p>
      
    </div>
    <p>
      Build Version: 08 Jan 2024
    </p>
  </div>

  <div class="footer-col">
    <p>A place for me to Learn, Create and Share</p>
  </div>
</div>

          </footer>
        </main>
      </div>
    </div>
  </body>

</html>
